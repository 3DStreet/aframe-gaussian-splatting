{"version":3,"sources":["./index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","init","this","el","sceneEl","renderer","setPixelRatio","xr","setFramebufferScaleFactor","loadData","camera","components","object3D","data","initGL","async","numVertexes","console","log","object","frustumCulled","let","gl","getContext","mexTextureSize","getParameter","MAX_TEXTURE_SIZE","splatIndexArray","maxVertexes","bufferTextureWidth","bufferTextureHeight","Math","floor","centerAndScaleData","Float32Array","covAndColorData","Uint32Array","centerAndScaleTexture","THREE","DataTexture","RGBA","FloatType","needsUpdate","covAndColorTexture","RGBAIntegerFormat","UnsignedIntType","internalFormat","splatIndexes","InstancedBufferAttribute","baseGeometry","setUsage","DynamicDrawUsage","BufferGeometry","positionsArray","positions","BufferAttribute","geometry","setAttribute","setXYZ","InstancedBufferGeometry","copy","instanceCount","material","ShaderMaterial","uniforms","viewport","value","focal","gsProjectionMatrix","getProjectionMatrix","gsModelViewMatrix","getModelViewMatrix","vertexShader","fragmentShader","blending","CustomBlending","blendSrcAlpha","OneFactor","depthTest","depthWrite","transparent","mesh","onBeforeRender","scene","group","projectionMatrix","Vector4","getCurrentViewport","w","abs","elements","z","Mesh","add","worker","onmessage","indexes","e","sortedIndexes","attributes","splatIndex","set","length","sortReady","centerAndScaleTextureProperties","properties","get","covAndColorTextureProperties","__webglTexture","await","Promise","resolve","setTimeout","loadedVertexCount","rowLength","Worker","URL","createObjectURL","Blob","createWorker","toString","postMessage","method","fetch","then","reader","body","getReader","glInitialized","bytesDownloaded","bytesProcesses","_totalDownloadBytes","headers","totalDownloadBytes","parseInt","undefined","chunks","start","Date","now","lastReportedProgress","isPly","endsWith","mbps","percent","done","read","toFixed","push","bytesRemains","extra_data","vertexCount","concatenatedChunksbuffer","Uint8Array","offset","chunk","subarray","buffer","byteLength","pushDataBuffer","error","concatenatedChunks","reduce","acc","processPlyBuffer","u_buffer","f_buffer","matrices","covAndColorData_uint8","covAndColorData_int16","Int16Array","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","cov_indexes","premultiply","setPosition","max_value","j","destOffset","x","y","max","width","height","xoffset","yoffset","min","bindTexture","TEXTURE_2D","texSubImage2D","FLOAT","RGBA_INTEGER","UNSIGNED_INT","tick","time","timeDelta","view","camera_mtx","viewMatrix","matrixWorld","invert","multiply","self","sortSplats","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","validIndexList","validCount","depth","depthInv","counts0","starts0","depthIndex","new_matrices","resized","inputBuffer","ubuf","header","TextDecoder","decode","slice","header_end_index","indexOf","Error","exec","row_offset","offsets","types","prop","TYPE_MAP","double","int","uint","float","short","ushort","uchar","split","filter","k","startsWith","name","arrayType","replace","dataView","DataView","row","attrs","Proxy","target","size","opacity","sizeIndex","exp","scale_0","scale_1","scale_2","timeEnd","sort","b","a","ArrayBuffer","SH_C0","position","scales","rgba","Uint8ClampedArray","rot","qlen","sqrt","rot_0","rot_1","rot_2","rot_3","f_dc_0","f_dc_1","f_dc_2","red","green","blue"],"mappings":"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"}