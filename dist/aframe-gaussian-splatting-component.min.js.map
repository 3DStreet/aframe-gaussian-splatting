{"version":3,"sources":["index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","init","this","el","sceneEl","renderer","setPixelRatio","fetch","data","then","blob","res","arrayBuffer","let","size","THREE","Vector2","focal","getSize","y","Math","tan","camera","components","fov","PI","geometry","PlaneGeometry","material","ShaderMaterial","uniforms","viewport","value","Float32Array","x","vertexShader","fragmentShader","blending","CustomBlending","blendEquation","AddEquation","blendSrc","OneMinusDstAlphaFactor","blendDst","OneFactor","blendSrcAlpha","blendDstAlpha","depthTest","needsUpdate","window","addEventListener","vertexCount","floor","buffer","byteLength","f_buffer","u_buffer","Uint8Array","matrices","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","premultiply","setPosition","elements","j","camera_mtx","object3D","matrixWorld","view","iMesh","InstancedMesh","frustumCulled","instanceMatrix","array","sortSplats","add","worker","Worker","URL","createObjectURL","Blob","createWorker","toString","postMessage","sortFunction","onmessage","e","sortedMatrices","sortReady","tick","time","timeDelta","self","eval","length","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","depth","depthInv","counts0","Uint32Array","starts0","depthIndex","k"],"mappings":"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"}